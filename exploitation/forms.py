from django import forms
from .models import Client

#https://docs.djangoproject.com/fr/2.1/topics/forms/modelforms/
#ERROR: django.core.exceptions.FieldError: Unknown field(s) (onlynumbers, firstCommand) specified for Client

REQUEST_CHOICES = (
    ('auth', 'AUTH'),
    ('get', 'GET'),
    ('post', 'POST'),
)

queryset = Client().get_all_objects()

# https://stackoverflow.com/questions/40919291/django-core-exceptions-fielderror-unknown-fields-body-specified-for-commen ?
class ClientForm(forms.ModelForm):
    class Meta:
        model = Client
        #fields = ['onlynumbers', 'id', 'info', 'firstCommand', 'command', 'output', 'polling', 'lastRequest', 'requestNature']
        fields = ['id', 'info', 'command', 'output', 'polling', 'lastRequest', 'requestNature']

    requestNature = forms.CharField(widget=forms.Select(choices=REQUEST_CHOICES))
